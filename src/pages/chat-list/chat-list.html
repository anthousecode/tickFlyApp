<!--
  Generated template for the ChatListPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title class="tick-title">Сообщения</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <div class="tick-wrapper">
    <div *ngIf="isLoaded">
      <div *ngIf="!chats.length">
        У вас нет начатых чатов
      </div>
      <div *ngIf="chats.length">
        <ion-item-sliding class="tick-chat-list" *ngFor="let chat of chats"
                          (click)="onChatPage(chat.id, chat.avatar, chat.title, chat.members)">
          <ion-item>
            <ion-avatar item-start>
              <img class="chat-avatar" src="{{chat.avatar}}">
            </ion-avatar>
            <h2 text-wrap>{{chat.title}}</h2>
            <p>{{chat.lastMessage}}</p>
            <ion-note item-end>
              <ion-badge class="chat-badge" *ngIf="chat.unreadMessages > 0">{{chat.unreadMessages}}</ion-badge>
              {{chat.timeLastMassage}}
            </ion-note>
          </ion-item>
        </ion-item-sliding>
      </div>

    </div>
  </div>
  <ion-fab bottom right>
    <button mini ion-fab color="main-entry-button" (click)="onNewChatPage()">+
    </button>
  </ion-fab>
</ion-content>
