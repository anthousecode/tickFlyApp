<!-- Generated template for the PostPreviewComponent component -->
<ion-card *ngFor="let post of posts" padding>

  <ion-item *ngIf="!(currentPage == 'UserProfilePage')">
    <ion-avatar item-start (click)="onAuthorPage(post?.author.id_user)">
      <img src="{{post?.author.avatar}}">
    </ion-avatar>
    <h2 float-left (click)="onAuthorPage(post?.author.id_user)">
      {{post?.author.nick_name}}
    </h2>
    <ion-buttons end>
      <button class="more-icon" (click)="showAlert()" icon-end>
        <ion-icon name="more"></ion-icon>
      </button>
    </ion-buttons>
  </ion-item>

  <h2 padding class="post-title" (click)="onPostPage(post?.postId)">{{post?.title}}</h2>
  <img *ngIf="post?.media[0]" src="{{post?.media[0]['url_orign']}}">

  <ion-card-content>
    <p margin-bottom>{{post?.description}}</p>
    <p class="ion-post-date">{{post?.date}}</p>
  </ion-card-content>

  <div class="post-footer">
    <ion-buttons class="buttons-wrap">
      <button ion-button icon-left small clear  
      [disabled]="currentUserId == getAuthorId(post)"
      (click)="showTickAlert(post?.postId, getAuthorId(post))">
      <img style="width: 18px; margin:0 8px;" class="{{post?.isTick == true ? 'ticked' : ''}}"
      src="assets/images/tick.png" alt="TickFly">
      <!-- <div class="test-like">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
        viewBox="0 0 128 128" style="enable-background:new 0 0 128 128;" xml:space="preserve">
        <style type="text/css">
        .st0{fill:none;stroke:#FFFFFF;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;}
        .st1{fill:none;stroke:#FFFFFF;stroke-width:1.9202;stroke-linecap:round;stroke-miterlimit:10;}
        .st2{fill:none;stroke:#FFFFFF;stroke-width:1.5;stroke-miterlimit:10;}
        .st3{fill:#FFFFFF;}
        .st4{fill:none;stroke:#FFFFFF;stroke-width:1.9209;stroke-linecap:round;stroke-miterlimit:10;}
        .st5{fill:none;stroke:#FFFFFF;stroke-width:1.921;stroke-miterlimit:10;}
        .st6{fill:none;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}
        .st7{fill:#FFFFFF;stroke:#FFFFFF;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;}
        .st8{fill:none;stroke:#C24849;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;}
        .st9{fill:none;stroke:#FFFFFF;stroke-width:1.9266;stroke-miterlimit:10;}
        .st10{fill:none;stroke:#FFFFFF;stroke-width:1.5;stroke-linecap:round;stroke-miterlimit:10;}
        .st11{fill:none;stroke:#FFFFFF;stroke-width:1.8503;stroke-miterlimit:10;}
        .st12{fill:#C24849;stroke:#C24849;stroke-width:1.8563;stroke-miterlimit:10;}
        .st13{fill:none;stroke:#FFFFFF;stroke-width:1.8563;stroke-miterlimit:10;}
      </style>
      <g id="Слой_2">
        <line class="st0" x1="28" y1="4.1" x2="4.1" y2="28"/>
        <path class="st0" d="M4.1,4.1C4.2,4.1,28,28,28,28"/>
      </g>
      <g id="Слой_3">
        <line class="st1" x1="35.8" y1="16" x2="59.2" y2="16"/>
        <polyline class="st0" points="51,7.2 60.6,16 51,24.8  "/>
      </g>
      <g id="Слой_4">
        <path class="st0" d="M81.9,11.3c-0.1,0-2.5,2.4-4.7,4.7c-2.6,2.7-5.2,5.3-3.4,7.1c2.3,2.3,6.2-2.7,10.2-6.8c5.1-5.2,8.3-8.3,5.6-11
        c-4.4-4.4-8.8,2.2-13.6,7.2c-4.7,5-9.4,9.5-5.7,13.7c4.2,4.7,8.4,0.3,12.9-4.4c4.4-4.6,8.5-9.3,8.5-9.3"/>
      </g>
      <g id="Слой_5">
        <path class="st0" d="M109.9,18.7H107l-5,3.6v-3.6c-1.1,0-2-0.9-2-2V8.8c0-1.1,0.9-2,2-2h14.2c1.1,0,2,0.9,2,2v5.1"/>
        <path class="st0" d="M111.6,23.1h7.1l3.8,2.2v-2.2c0.9,0,1.5-0.7,1.5-1.5v-6c0-0.9-0.7-1.5-1.5-1.5h-11c-0.9,0-1.5,0.7-1.5,1.5v6
        C110.1,22.4,110.8,23.1,111.6,23.1z"/>
        <line class="st2" x1="103.2" y1="10.9" x2="115.2" y2="10.9"/>
        <line class="st2" x1="103.2" y1="14.9" x2="108.8" y2="14.9"/>
        <circle class="st3" cx="120.5" cy="18.8" r="0.7"/>
        <circle class="st3" cx="117.1" cy="18.8" r="0.7"/>
        <circle class="st3" cx="113.8" cy="18.8" r="0.7"/>
      </g>
      <g id="Слой_6">
        <circle class="st3" cx="6.1" cy="48" r="2.6"/>
        <circle class="st3" cx="16.1" cy="48" r="2.6"/>
        <circle class="st3" cx="26.1" cy="48" r="2.6"/>
      </g>
      <g id="Слой_7">
        <path class="st4" d="M55.2,46.9v11.2c0,1.1-0.9,2-2,2H38.6c-1.1,0-2-0.9-2-2V41.3l4.7-5.1h12c1.1,0,2,0.9,2,2v3"/>
        <polyline class="st5" points="36,41.6 41.5,41.6 41.5,35.9   "/>
        <path class="st6" d="M59.5,42.2L48.6,53.5c-0.7,0.7-4.3,1.6-4.3,1.6l0,0c0,0,0.9-3.5,1.6-4.2l10.8-11.3c0.7-0.7,1.9-0.8,2.7,0l0,0
        C60.2,40.3,60.2,41.5,59.5,42.2z"/>
        <line class="st2" x1="45.9" y1="50.7" x2="48.7" y2="53.5"/>
        <path class="st2" d="M39.1,55.7c0.1,0,3.8,0,3.8,0"/>
        <path class="st2" d="M39.1,50.7c0.1,0,6.2,0,6.2,0"/>
        <path class="st2" d="M39.1,45.9c0.1,0,11.5,0,11.5,0"/>
        <path class="st3" d="M41.9,54.9h1.8l-0.8,1.5L41.9,54.9z"/>
      </g>
      <g id="Слой_8">
        <polyline class="st0" points="70.8,41.7 80,49.7 89.6,41.6   "/>
        <line class="st0" x1="71.1" y1="54.6" x2="77.7" y2="47.7"/>
        <line class="st0" x1="89.6" y1="54.7" x2="82.6" y2="47.9"/>
        <path class="st0" d="M90.8,57.2H70.2c-1.1,0-2-0.9-2-2V40.8c0-1.1,0.9-2,2-2h20.7c1.1,0,2,0.9,2,2v14.3
        C92.8,56.3,91.9,57.2,90.8,57.2z"/>
      </g>
      <g id="Слой_9">
        <path class="st7" d="M122.9,57.3h-20.6c-1.1,0-2-0.9-2-2V40.8c0-1.1,0.9-2,2-2H123c1.1,0,2,0.9,2,2v14.3
        C124.9,56.3,124,57.3,122.9,57.3z"/>
        <polyline class="st8" points="102.9,41.8 112.1,49.8 121.7,41.7  "/>
        <line class="st8" x1="103.2" y1="54.7" x2="109.8" y2="47.8"/>
        <line class="st8" x1="121.7" y1="54.8" x2="114.7" y2="47.9"/>
      </g>
      <g id="Слой_10">
        <path class="st3" d="M20.8,79.9c-0.1,0-17.6-2.5-17.6-2.5v-8.7l25.6,11.1L3.2,91.2v-8.8L20.8,79.9z"/>
      </g>
      <g id="Слой_11">
        <circle class="st0" cx="46.2" cy="78.1" r="10.1"/>
        <line class="st0" x1="59.9" y1="92" x2="53.3" y2="85.3"/>
      </g>
      <g id="Слой_12">
        <line class="st0" x1="67.9" y1="72.3" x2="92" y2="72.3"/>
        <line class="st0" x1="67.9" y1="80.3" x2="92" y2="80.3"/>
        <line class="st0" x1="67.9" y1="87.7" x2="92" y2="87.7"/>
      </g>
      <g id="Слой_13">
        <path class="st9" d="M122.9,72.6L106,89.4c-0.7,0.7-5.5,2.1-5.5,2.1l0,0c0,0,1.2-4.5,1.9-5.2L119.2,69c0.7-0.7,1.9-0.7,2.7,0.1
        l0.8,0.8C123.6,70.7,123.6,71.9,122.9,72.6z"/>
        <path class="st2" d="M105.2,89.9v-3.1H102"/>
        <line class="st2" x1="114.9" y1="73.4" x2="118.5" y2="76.7"/>
        <line class="st2" x1="116.9" y1="71.3" x2="120.6" y2="74.7"/>
      </g>
      <g id="Слой_14">
        <circle class="st6" cx="16.1" cy="112" r="12"/>
        <circle class="st3" cx="20.6" cy="107.6" r="1.6"/>
        <circle class="st3" cx="11.6" cy="107.6" r="1.6"/>
        <path class="st10" d="M24.9,113.7c-1.2,3.6-4.7,6.3-8.7,6.3s-7.5-2.6-8.7-6.2"/>
      </g>
      <g id="Слой_15">
        <circle class="st11" cx="48.1" cy="112" r="13.5"/>
        <polyline class="st11" points="40,104.2 48.1,104.2 56.2,104.2   "/>
        <line class="st11" x1="48.1" y1="123.9" x2="48.1" y2="104.2"/>
        <line class="st11" x1="56.2" y1="113.6" x2="48.1" y2="113.6"/>
      </g>
      <g id="Слой_16">
        <circle class="st12" cx="80" cy="112" r="13.5"/>
        <polyline class="st13" points="71.8,104.1 80,104.1 88.1,104.1   "/>
        <line class="st13" x1="80" y1="123.9" x2="80" y2="104.1"/>
        <line class="st13" x1="88.1" y1="113.6" x2="80" y2="113.6"/>
      </g>
      <g id="Слой_17">
        <circle class="st6" cx="111.9" cy="105.9" r="5.7"/>
        <path class="st6" d="M112.2,123.8h-10.5c0,0,0.2-4.2,2.4-6.3c2.2-2.1,3.4-2.5,8.1-2.5"/>
        <path class="st6" d="M111.7,123.8h10.5c0,0-0.2-4.2-2.4-6.3c-2.2-2.1-3.4-2.5-8.1-2.5"/>
      </g>
    </svg>
  </div> -->
  <div class="tickfly-currency">{{tickCount ? tickCount : post?.tickCount}}</div>
</button>
<button ion-button small clear (click)="onPostPage(post?.postId)">
  <ion-icon small name="chatboxes"></ion-icon>
</button>
<button ion-button small clear>
  <ion-icon name="mail"></ion-icon>
</button>
</ion-buttons>
<ul class="category">
  <li (click)="onCategoryPage(post?.categories[0].id_category)">{{post?.categories[0].title}}
  </li>
</ul>
</div>

</ion-card>
